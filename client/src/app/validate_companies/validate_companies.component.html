<div class="col-md-9 col-md-offset-3">
    <h1> {{'validateCompanies' |translate }} </h1>
	<div class="container">
		<table *ngIf="(pendingCompanies$ | async)?.length; else noCompanies" class="table table-striped">
			<thead>
				<tr>
                    <th scope="col">{{'name' | translate}}</th>
                    <th> {{'vatNumber' | translate }}</th>
                    <th></th>
                    <th></th>
				</tr>
			</thead>
			<tbody>
				<tr *ngFor="let company of (pendingCompanies$ | async)">
                    <td> {{ company.companyName }}</td>
                    <td> {{ company.vatNb }} </td>
                    <td><button class="btn btn-success" (click)="selectedCitizen = citizen">{{'viewDetails'| translate}}</button></td>
                    <td><button class="btn btn-success" (click)="validate(citizen)"> {{'validate' | translate}}</button></td>
				</tr>
			</tbody>
		</table>
		<ng-template #noCompanies>
			<div>Votre service n'a pas d'inscriptions de sociétés en attente</div>
        </ng-template>

        // TODO select company
        
        <div *ngIf="selectedCitizen">
            <citizen-detail  [citizen]="selectedCitizen"></citizen-detail>
            <nrn-details [citizen]="selectedCitizen"></nrn-details>
        </div>
        
	</div>

</div>